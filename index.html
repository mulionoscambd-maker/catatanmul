<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aplikasi Manajemen Personal - Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --success-color: #4cc9f0;
            --danger-color: #f72585;
            --warning-color: #f8961e;
            --info-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --gray-color: #6c757d;
            --light-gray: #e9ecef;
            --border-radius: 10px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        .dark-mode {
            --primary-color: #5a6fdb;
            --secondary-color: #4a56c7;
            --light-color: #2d3748;
            --dark-color: #f8f9fa;
            --gray-color: #a0aec0;
            --light-gray: #4a5568;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark-color);
            min-height: 100vh;
            transition: var(--transition);
        }

        .dark-mode body {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            transition: var(--transition);
        }

        .dark-mode header {
            background-color: var(--light-color);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo i {
            color: var(--secondary-color);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--primary-color);
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--gray-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .theme-toggle:hover {
            color: var(--primary-color);
        }

        /* Main Layout */
        .app-container {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background-color: white;
            box-shadow: var(--box-shadow);
            padding: 20px 0;
            transition: var(--transition);
            display: flex;
            flex-direction: column;
        }

        .dark-mode .sidebar {
            background-color: var(--light-color);
        }

        .sidebar-menu {
            list-style: none;
            flex-grow: 1;
        }

        .sidebar-menu li {
            margin-bottom: 5px;
        }

        .sidebar-menu a {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: var(--dark-color);
            text-decoration: none;
            transition: var(--transition);
            border-left: 4px solid transparent;
        }

        .dark-mode .sidebar-menu a {
            color: var(--dark-color);
        }

        .sidebar-menu a:hover, .sidebar-menu a.active {
            background-color: rgba(67, 97, 238, 0.1);
            border-left-color: var(--primary-color);
            color: var(--primary-color);
        }

        .sidebar-menu a i {
            width: 20px;
            text-align: center;
        }

        .logout-btn {
            margin: 20px;
            padding: 12px;
            background-color: var(--danger-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-weight: 500;
            transition: var(--transition);
        }

        .logout-btn:hover {
            background-color: #e11570;
            transform: translateY(-2px);
        }

        /* Main Content */
        .main-content {
            flex-grow: 1;
            padding: 30px;
            overflow-y: auto;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .page-title {
            font-size: 2rem;
            margin-bottom: 25px;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .page-title i {
            color: var(--secondary-color);
        }

        /* Cards */
        .card {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 25px;
            transition: var(--transition);
        }

        .dark-mode .card {
            background-color: var(--light-color);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }

        .card-title {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border-radius: var(--border-radius);
            border: none;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        .btn-success {
            background-color: var(--success-color);
            color: white;
        }

        .btn-success:hover {
            background-color: #3ab4d9;
            transform: translateY(-2px);
        }

        .btn-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .btn-danger:hover {
            background-color: #e11570;
            transform: translateY(-2px);
        }

        .btn-warning {
            background-color: var(--warning-color);
            color: white;
        }

        .btn-warning:hover {
            background-color: #e0861b;
            transform: translateY(-2px);
        }

        .btn-sm {
            padding: 6px 12px;
            font-size: 0.85rem;
        }

        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark-color);
        }

        .dark-mode .form-label {
            color: var(--dark-color);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--light-gray);
            border-radius: var(--border-radius);
            font-family: 'Poppins', sans-serif;
            font-size: 1rem;
            transition: var(--transition);
            background-color: white;
            color: var(--dark-color);
        }

        .dark-mode .form-control {
            background-color: #4a5568;
            border-color: #718096;
            color: white;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
        }

        textarea.form-control {
            min-height: 120px;
            resize: vertical;
        }

        /* Dashboard */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--box-shadow);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stat-info h3 {
            font-size: 2.2rem;
            margin-bottom: 5px;
        }

        .stat-info p {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .stat-icon {
            font-size: 2.5rem;
            opacity: 0.8;
        }

        .recent-activity {
            list-style: none;
        }

        .recent-activity li {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid var(--light-gray);
            gap: 15px;
        }

        .recent-activity li:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        .activity-icon.notes {
            background-color: var(--info-color);
        }

        .activity-icon.savings {
            background-color: var(--success-color);
        }

        .activity-icon.travel {
            background-color: var(--warning-color);
        }

        .activity-content h4 {
            font-size: 1rem;
            margin-bottom: 3px;
        }

        .activity-content p {
            font-size: 0.85rem;
            color: var(--gray-color);
        }

        /* Tables */
        .table-container {
            overflow-x: auto;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
        }

        .table th, .table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        .table th {
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
            font-weight: 600;
        }

        .table tr:hover {
            background-color: rgba(67, 97, 238, 0.05);
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 30px;
            position: relative;
            animation: modalFadeIn 0.3s ease;
        }

        .dark-mode .modal-content {
            background-color: var(--light-color);
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: translateY(-30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary-color);
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--gray-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .close-modal:hover {
            color: var(--danger-color);
        }

        /* Alert */
        .alert {
            padding: 15px;
            border-radius: var(--border-radius);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .alert-success {
            background-color: rgba(76, 201, 240, 0.2);
            color: #0c5460;
            border-left: 4px solid var(--success-color);
        }

        .alert-danger {
            background-color: rgba(247, 37, 133, 0.2);
            color: #721c24;
            border-left: 4px solid var(--danger-color);
        }

        .alert-warning {
            background-color: rgba(248, 150, 30, 0.2);
            color: #856404;
            border-left: 4px solid var(--warning-color);
        }

        /* Toast */
        .toast-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1001;
        }

        .toast {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            transform: translateX(100%);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .dark-mode .toast {
            background-color: var(--light-color);
        }

        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }

        .toast-success {
            border-left: 4px solid var(--success-color);
        }

        .toast-danger {
            border-left: 4px solid var(--danger-color);
        }

        .toast-warning {
            border-left: 4px solid var(--warning-color);
        }

        /* Google Maps Link */
        .maps-link-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 15px;
        }

        .maps-link-input {
            display: flex;
            gap: 10px;
        }

        .maps-link-input input {
            flex-grow: 1;
        }

        .maps-preview {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            margin-top: 5px;
        }

        .maps-preview a {
            color: var(--primary-color);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .maps-preview a:hover {
            text-decoration: underline;
        }

        .maps-preview .btn-sm {
            padding: 4px 8px;
            font-size: 0.8rem;
        }

        /* Travel Details */
        .travel-details {
            background-color: rgba(67, 97, 238, 0.05);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 15px;
        }

        .travel-details h4 {
            margin-bottom: 10px;
            color: var(--primary-color);
        }

        .travel-maps-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 15px;
            background-color: var(--primary-color);
            color: white;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
        }

        .travel-maps-link:hover {
            background-color: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Responsive */
        @media (max-width: 992px) {
            .sidebar {
                width: 70px;
            }
            
            .sidebar-menu a span {
                display: none;
            }
            
            .logout-btn span {
                display: none;
            }
            
            .logout-btn i {
                margin-right: 0;
            }
        }

        @media (max-width: 768px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                flex-direction: row;
                padding: 10px 0;
                overflow-x: auto;
            }
            
            .sidebar-menu {
                display: flex;
                flex-grow: 0;
            }
            
            .sidebar-menu li {
                margin-bottom: 0;
                margin-right: 5px;
            }
            
            .sidebar-menu a {
                border-left: none;
                border-bottom: 4px solid transparent;
                padding: 10px 15px;
            }
            
            .sidebar-menu a:hover, .sidebar-menu a.active {
                border-left-color: transparent;
                border-bottom-color: var(--primary-color);
            }
            
            .logout-btn {
                margin: 0 10px;
                padding: 10px;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .stats-container {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .maps-link-input {
                flex-direction: column;
            }
        }

        /* Locked Name */
        .locked-field {
            position: relative;
        }

        .locked-info {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 5px;
            font-size: 0.85rem;
            color: var(--warning-color);
        }

        /* Password Strength */
        .password-strength {
            height: 5px;
            background-color: var(--light-gray);
            border-radius: 5px;
            margin-top: 5px;
            overflow: hidden;
        }

        .password-strength-bar {
            height: 100%;
            width: 0;
            transition: width 0.3s ease;
        }

        .strength-weak {
            background-color: var(--danger-color);
            width: 25%;
        }

        .strength-medium {
            background-color: var(--warning-color);
            width: 50%;
        }

        .strength-strong {
            background-color: var(--success-color);
            width: 75%;
        }

        .strength-very-strong {
            background-color: #2ecc71;
            width: 100%;
        }

        /* Profile */
        .profile-header {
            display: flex;
            align-items: center;
            gap: 25px;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid var(--primary-color);
        }

        .profile-upload {
            position: relative;
            display: inline-block;
        }

        .profile-upload input {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
        }

        /* OTP Input */
        .otp-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }

        .otp-input {
            width: 50px;
            height: 60px;
            text-align: center;
            font-size: 1.5rem;
            border: 2px solid var(--light-gray);
            border-radius: var(--border-radius);
            font-weight: bold;
        }

        .otp-input:focus {
            border-color: var(--primary-color);
            outline: none;
        }

        /* Travel Map */
        .map-placeholder {
            height: 200px;
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--gray-color);
            margin-bottom: 20px;
            padding: 20px;
            text-align: center;
        }

        .map-placeholder i {
            font-size: 3rem;
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        /* Travel Table Enhancements */
        .table .maps-cell {
            max-width: 200px;
        }

        .maps-link-table {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            background-color: rgba(67, 97, 238, 0.1);
            color: var(--primary-color);
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.85rem;
            transition: var(--transition);
        }

        .maps-link-table:hover {
            background-color: rgba(67, 97, 238, 0.2);
        }

        /* Landing Page */
        .landing-container {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .landing-header {
            background-color: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            position: fixed;
            width: 100%;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .landing-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .landing-nav a {
            color: var(--dark-color);
            text-decoration: none;
            font-weight: 500;
            padding: 8px 15px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .landing-nav a:hover {
            color: var(--primary-color);
        }

        .landing-nav .btn-primary {
            color: white;
        }

        .landing-hero {
            flex-grow: 1;
            display: flex;
            align-items: center;
            padding-top: 100px;
            padding-bottom: 80px;
            background: linear-gradient(135deg, #4361ee 0%, #3a0ca3 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .landing-hero::before {
            content: '';
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            top: -150px;
            right: -100px;
        }

        .landing-hero::after {
            content: '';
            position: absolute;
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.05);
            bottom: -100px;
            left: -50px;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero-title {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            margin-bottom: 30px;
            opacity: 0.9;
            max-width: 600px;
        }

        .hero-buttons {
            display: flex;
            gap: 15px;
        }

        .landing-features {
            padding: 80px 0;
            background-color: white;
        }

        .dark-mode .landing-features {
            background-color: #1a202c;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: var(--primary-color);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background-color: var(--light-color);
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .dark-mode .feature-card {
            background-color: #2d3748;
        }

        .feature-card:hover {
            transform: translateY(-10px);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .feature-title {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--dark-color);
        }

        .dark-mode .feature-title {
            color: white;
        }

        .landing-footer {
            background-color: var(--dark-color);
            color: white;
            padding: 40px 0;
            text-align: center;
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .badge-secondary {
            background-color: var(--gray-color);
            color: white;
        }

        .badge-info {
            background-color: var(--info-color);
            color: white;
        }

        .badge-warning {
            background-color: var(--warning-color);
            color: white;
        }

        .badge-success {
            background-color: var(--success-color);
            color: white;
        }

        .badge-danger {
            background-color: var(--danger-color);
            color: white;
        }

        .badge-primary {
            background-color: var(--primary-color);
            color: white;
        }

        /* Text Colors */
        .text-center {
            text-align: center;
        }

        .text-success {
            color: var(--success-color);
        }

        .text-danger {
            color: var(--danger-color);
        }

        .text-primary {
            color: var(--primary-color);
        }

        /* Hide login/register forms initially */
        #loginPage, #registerPage {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Toast Notification Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Landing Page -->
    <div id="landingPage">
        <header class="landing-header">
            <div class="container">
                <nav class="landing-nav">
                    <div class="logo">
                        <i class="fas fa-tasks"></i>
                        <span>MulionoDATA</span>
                    </div>
                    <div>
                        <a href="#features">Fitur</a>
                        <a href="#about">Tentang</a>
                        <a href="#" class="btn btn-primary" id="landingLoginBtn">Masuk</a>
                    </div>
                </nav>
            </div>
        </header>

        <section class="landing-hero">
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">Kelola Hidup Anda dengan Lebih Terorganisir</h1>
                    <p class="hero-subtitle">Aplikasi manajemen personal lengkap untuk mengatur catatan harian, keuangan, rencana perjalanan dengan Google Maps, dan profil Anda dalam satu platform yang mudah digunakan.</p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary" id="heroRegisterBtn">Daftar Sekarang</button>
                        <button class="btn" style="background-color: white; color: var(--primary-color);" id="heroLoginBtn">Masuk</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="landing-features" id="features">
            <div class="container">
                <h2 class="section-title">Fitur Lengkap</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-sticky-note"></i>
                        </div>
                        <h3 class="feature-title">Catatan Harian</h3>
                        <p>Buat, edit, dan hapus catatan harian dengan kategori dan status. Sistem CRUD lengkap untuk mengelola semua catatan Anda.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-piggy-bank"></i>
                        </div>
                        <h3 class="feature-title">Tabungan & Keuangan</h3>
                        <p>Kelola pemasukan dan pengeluaran dengan grafik ringkasan. Hitung saldo otomatis dan pantau keuangan Anda.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-plane"></i>
                        </div>
                        <h3 class="feature-title">Rencana Perjalanan + Maps</h3>
                        <p>Buat rencana perjalanan dengan integrasi Google Maps. Tempel link Maps dan klik langsung untuk navigasi.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-user-circle"></i>
                        </div>
                        <h3 class="feature-title">Profil Pengguna</h3>
                        <p>Ubah foto profil, email, telepon, tanggal lahir, alamat, dan password. Dengan sistem keamanan OTP untuk verifikasi.</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="landing-footer">
            <div class="container">
                <p>&copy; 2023 MulionoDATA. Semua hak dilindungi.</p>
                <p>Aplikasi manajemen personal lengkap dengan sistem keamanan terjamin.</p>
            </div>
        </footer>
    </div>

    <!-- Login Page -->
    <div id="loginPage">
        <div class="container" style="max-width: 500px; padding-top: 100px; padding-bottom: 100px;">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Masuk ke Akun Anda</h2>
                    <a href="#" id="backToLandingFromLogin"><i class="fas fa-arrow-left"></i> Kembali</a>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label class="form-label" for="loginEmail">Email</label>
                        <input type="email" class="form-control" id="loginEmail" placeholder="nama@contoh.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="loginPassword">Password</label>
                        <input type="password" class="form-control" id="loginPassword" placeholder="Masukkan password">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary btn-block" id="loginBtn">Masuk</button>
                    </div>
                    <div class="text-center">
                        <p>Belum punya akun? <a href="#" id="goToRegister">Daftar di sini</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Register Page -->
    <div id="registerPage">
        <div class="container" style="max-width: 500px; padding-top: 80px; padding-bottom: 80px;">
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title">Buat Akun Baru</h2>
                    <a href="#" id="backToLandingFromRegister"><i class="fas fa-arrow-left"></i> Kembali</a>
                </div>
                <div class="card-body">
                    <div class="form-group">
                        <label class="form-label" for="registerName">Nama Lengkap</label>
                        <input type="text" class="form-control" id="registerName" placeholder="Masukkan nama lengkap">
                        <small class="locked-info">
                            <i class="fas fa-info-circle"></i> Nama hanya dapat diubah setiap 3 hari sekali
                        </small>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="registerEmail">Email</label>
                        <input type="email" class="form-control" id="registerEmail" placeholder="nama@contoh.com">
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="registerPassword">Password</label>
                        <input type="password" class="form-control" id="registerPassword" placeholder="Buat password yang kuat">
                        <div class="password-strength">
                            <div class="password-strength-bar" id="passwordStrengthBar"></div>
                        </div>
                        <small id="passwordStrengthText" style="display: block; margin-top: 5px;"></small>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="registerConfirmPassword">Konfirmasi Password</label>
                        <input type="password" class="form-control" id="registerConfirmPassword" placeholder="Ulangi password">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary btn-block" id="registerBtn">Daftar</button>
                    </div>
                    <div class="text-center">
                        <p>Sudah punya akun? <a href="#" id="goToLogin">Masuk di sini</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App (Dashboard and other pages) -->
    <div id="appContainer" style="display: none;">
        <header>
            <div class="container header-content">
                <div class="logo">
                    <i class="fas fa-tasks"></i>
                    <span>MulionoDATA</span>
                </div>
                <div class="user-info">
                    <button class="theme-toggle" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <img src="https://ui-avatars.com/api/?name=John+Doe&background=4361ee&color=fff" alt="Avatar" class="user-avatar" id="userAvatar">
                    <span id="userName">John Doe</span>
                </div>
            </div>
        </header>

        <div class="app-container">
            <nav class="sidebar">
                <ul class="sidebar-menu">
                    <li><a href="#" class="nav-link active" data-page="dashboard"><i class="fas fa-home"></i> <span>Dashboard</span></a></li>
                    <li><a href="#" class="nav-link" data-page="notes"><i class="fas fa-sticky-note"></i> <span>Catatan Harian</span></a></li>
                    <li><a href="#" class="nav-link" data-page="savings"><i class="fas fa-piggy-bank"></i> <span>Tabungan & Keuangan</span></a></li>
                    <li><a href="#" class="nav-link" data-page="travel"><i class="fas fa-plane"></i> <span>Rencana Perjalanan</span></a></li>
                    <li><a href="#" class="nav-link" data-page="profile"><i class="fas fa-user-circle"></i> <span>Profil</span></a></li>
                    <li><a href="#" class="nav-link" data-page="settings"><i class="fas fa-cog"></i> <span>Pengaturan</span></a></li>
                </ul>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Keluar</span>
                </button>
            </nav>

            <main class="main-content">
                <!-- Dashboard Page -->
                <section class="page active" id="dashboardPage">
                    <h1 class="page-title"><i class="fas fa-home"></i> Dashboard</h1>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="totalNotes">0</h3>
                                <p>Catatan Harian</p>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-sticky-note"></i>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="totalBalance">Rp 0</h3>
                                <p>Saldo Tabungan</p>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-piggy-bank"></i>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="totalTrips">0</h3>
                                <p>Rencana Perjalanan</p>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-plane"></i>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <h3 id="daysActive">1</h3>
                                <p>Hari Aktif</p>
                            </div>
                            <div class="stat-icon">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Aktivitas Terbaru</h2>
                        </div>
                        <div class="card-body">
                            <ul class="recent-activity" id="recentActivity">
                                <li>
                                    <div class="activity-icon notes">
                                        <i class="fas fa-sticky-note"></i>
                                    </div>
                                    <div class="activity-content">
                                        <h4>Selamat datang di MulionoDATA!</h4>
                                        <p>Mulai kelola hidup Anda dengan lebih terorganisir</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Rencana Perjalanan Terdekat</h2>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Tujuan</th>
                                            <th>Tanggal</th>
                                            <th>Status</th>
                                            <th>Lokasi</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="upcomingTravelTable">
                                        <tr>
                                            <td colspan="5" class="text-center">Belum ada rencana perjalanan</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Notes Page -->
                <section class="page" id="notesPage">
                    <h1 class="page-title"><i class="fas fa-sticky-note"></i> Catatan Harian</h1>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Catatan Anda</h2>
                            <button class="btn btn-primary" id="addNoteBtn">
                                <i class="fas fa-plus"></i> Tambah Catatan
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Judul</th>
                                            <th>Kategori</th>
                                            <th>Status</th>
                                            <th>Tanggal</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="notesTable">
                                        <tr>
                                            <td colspan="5" class="text-center">Belum ada catatan</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Savings Page -->
                <section class="page" id="savingsPage">
                    <h1 class="page-title"><i class="fas fa-piggy-bank"></i> Tabungan & Keuangan</h1>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Ringkasan Keuangan</h2>
                        </div>
                        <div class="card-body">
                            <div class="stats-container">
                                <div class="stat-card">
                                    <div class="stat-info">
                                        <h3 id="totalIncome">Rp 0</h3>
                                        <p>Total Pemasukan</p>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="fas fa-money-bill-wave"></i>
                                    </div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-info">
                                        <h3 id="totalExpense">Rp 0</h3>
                                        <p>Total Pengeluaran</p>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="fas fa-shopping-cart"></i>
                                    </div>
                                </div>
                                <div class="stat-card" style="background: linear-gradient(135deg, #2ecc71, #27ae60);">
                                    <div class="stat-info">
                                        <h3 id="currentBalance">Rp 0</h3>
                                        <p>Saldo Saat Ini</p>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="fas fa-wallet"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Transaksi</h2>
                            <div>
                                <button class="btn btn-success" id="addIncomeBtn">
                                    <i class="fas fa-plus"></i> Pemasukan
                                </button>
                                <button class="btn btn-danger" id="addExpenseBtn">
                                    <i class="fas fa-minus"></i> Pengeluaran
                                </button>
                            </div>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Deskripsi</th>
                                            <th>Kategori</th>
                                            <th>Jumlah</th>
                                            <th>Tanggal</th>
                                            <th>Tipe</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="transactionsTable">
                                        <tr>
                                            <td colspan="6" class="text-center">Belum ada transaksi</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Travel Page -->
                <section class="page" id="travelPage">
                    <h1 class="page-title"><i class="fas fa-plane"></i> Rencana Perjalanan</h1>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Rencana Perjalanan Anda</h2>
                            <button class="btn btn-primary" id="addTravelBtn">
                                <i class="fas fa-plus"></i> Tambah Rencana
                            </button>
                        </div>
                        <div class="card-body">
                            <div class="table-container">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Tujuan</th>
                                            <th>Tanggal Mulai</th>
                                            <th>Tanggal Selesai</th>
                                            <th>Status</th>
                                            <th>Lokasi (Google Maps)</th>
                                            <th>Aksi</th>
                                        </tr>
                                    </thead>
                                    <tbody id="travelTable">
                                        <tr>
                                            <td colspan="6" class="text-center">Belum ada rencana perjalanan</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Travel Details Modal -->
                    <div class="modal" id="travelDetailModal">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3 class="modal-title" id="travelDetailTitle">Detail Perjalanan</h3>
                                <button class="close-modal" id="closeTravelDetailModal">&times;</button>
                            </div>
                            <div class="modal-body">
                                <div class="travel-details">
                                    <h4 id="detailDestination"></h4>
                                    <p><strong>Tanggal Mulai:</strong> <span id="detailStartDate"></span></p>
                                    <p><strong>Tanggal Selesai:</strong> <span id="detailEndDate"></span></p>
                                    <p><strong>Status:</strong> <span id="detailStatus" class="badge"></span></p>
                                    <p><strong>Catatan:</strong> <span id="detailNotes"></span></p>
                                    <div id="detailMapsLink" style="margin-top: 15px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Profile Page -->
                <section class="page" id="profilePage">
                    <h1 class="page-title"><i class="fas fa-user-circle"></i> Profil Pengguna</h1>
                    
                    <div class="card">
                        <div class="profile-header">
                            <div class="profile-upload">
                                <img src="https://ui-avatars.com/api/?name=John+Doe&background=4361ee&color=fff" alt="Avatar" class="profile-avatar" id="profileAvatar">
                                <input type="file" id="avatarUpload" accept="image/*">
                            </div>
                            <div>
                                <h2 id="profileName">John Doe</h2>
                                <p id="profileEmail">john.doe@example.com</p>
                                <button class="btn btn-sm btn-primary" id="changeAvatarBtn">
                                    <i class="fas fa-camera"></i> Ubah Foto Profil
                                </button>
                            </div>
                        </div>
                        
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label" for="profileNameInput">Nama Lengkap</label>
                                <div class="locked-field">
                                    <input type="text" class="form-control" id="profileNameInput" value="John Doe" readonly>
                                    <div class="locked-info">
                                        <i class="fas fa-lock"></i> Nama tidak dapat diubah
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="profileEmailInput">Email</label>
                                <input type="email" class="form-control" id="profileEmailInput" value="john.doe@example.com">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="profilePhoneInput">Nomor Telepon</label>
                                <input type="tel" class="form-control" id="profilePhoneInput" placeholder="Masukkan nomor telepon">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="profileDobInput">Tanggal Lahir</label>
                                <input type="date" class="form-control" id="profileDobInput">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="profileAddressInput">Alamat</label>
                                <textarea class="form-control" id="profileAddressInput" rows="3" placeholder="Masukkan alamat lengkap"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <button class="btn btn-primary" id="saveProfileBtn">
                                    <i class="fas fa-save"></i> Simpan Perubahan
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings Page -->
                <section class="page" id="settingsPage">
                    <h1 class="page-title"><i class="fas fa-cog"></i> Pengaturan</h1>
                    
                    <div class="card">
                        <div class="card-header">
                            <h2 class="card-title">Preferensi Aplikasi</h2>
                        </div>
                        <div class="card-body">
                            <div class="form-group">
                                <label class="form-label">Tema</label>
                                <div>
                                    <button class="btn btn-sm" id="lightThemeBtn">Terang</button>
                                    <button class="btn btn-sm btn-primary" id="darkThemeBtn">Gelap</button>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="notificationsToggle">Notifikasi</label>
                                <div>
                                    <input type="checkbox" id="notificationsToggle" checked>
                                    <label for="notificationsToggle">Aktifkan notifikasi</label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ubah Password</label>
                                <button class="btn btn-warning" id="changePasswordBtn">
                                    <i class="fas fa-key"></i> Ubah Password
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Ekspor Data</label>
                                <button class="btn btn-info" id="exportDataBtn">
                                    <i class="fas fa-download"></i> Ekspor Data ke JSON
                                </button>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Hapus Akun</label>
                                <button class="btn btn-danger" id="deleteAccountBtn">
                                    <i class="fas fa-trash"></i> Hapus Akun
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Modal for Add/Edit Note -->
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="noteModalTitle">Tambah Catatan Baru</h3>
                <button class="close-modal" id="closeNoteModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="noteTitle">Judul Catatan</label>
                    <input type="text" class="form-control" id="noteTitle" placeholder="Masukkan judul catatan">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="noteCategory">Kategori</label>
                    <select class="form-control" id="noteCategory">
                        <option value="pribadi">Pribadi</option>
                        <option value="kerja">Kerja</option>
                        <option value="pendidikan">Pendidikan</option>
                        <option value="kesehatan">Kesehatan</option>
                        <option value="hobi">Hobi</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="noteStatus">Status</label>
                    <select class="form-control" id="noteStatus">
                        <option value="draft">Draft</option>
                        <option value="dalam_proses">Dalam Proses</option>
                        <option value="selesai">Selesai</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="noteContent">Isi Catatan</label>
                    <textarea class="form-control" id="noteContent" rows="5" placeholder="Tulis isi catatan di sini..."></textarea>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" id="saveNoteBtn">Simpan Catatan</button>
                    <button class="btn" id="cancelNoteBtn">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Add/Edit Transaction -->
    <div class="modal" id="transactionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="transactionModalTitle">Tambah Pemasukan</h3>
                <button class="close-modal" id="closeTransactionModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="transactionType">Tipe Transaksi</label>
                    <select class="form-control" id="transactionType">
                        <option value="income">Pemasukan</option>
                        <option value="expense">Pengeluaran</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="transactionDescription">Deskripsi</label>
                    <input type="text" class="form-control" id="transactionDescription" placeholder="Masukkan deskripsi transaksi">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="transactionCategory">Kategori</label>
                    <select class="form-control" id="transactionCategory">
                        <option value="gaji">Gaji</option>
                        <option value="investasi">Investasi</option>
                        <option value="hadiah">Hadiah</option>
                        <option value="lainnya">Lainnya</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="transactionAmount">Jumlah (Rp)</label>
                    <input type="number" class="form-control" id="transactionAmount" placeholder="Masukkan jumlah" min="0">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="transactionDate">Tanggal</label>
                    <input type="date" class="form-control" id="transactionDate">
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" id="saveTransactionBtn">Simpan Transaksi</button>
                    <button class="btn" id="cancelTransactionBtn">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Add/Edit Travel Plan -->
    <div class="modal" id="travelModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="travelModalTitle">Tambah Rencana Perjalanan</h3>
                <button class="close-modal" id="closeTravelModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="travelDestination">Tujuan</label>
                    <input type="text" class="form-control" id="travelDestination" placeholder="Masukkan tujuan perjalanan">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="travelStartDate">Tanggal Mulai</label>
                    <input type="date" class="form-control" id="travelStartDate">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="travelEndDate">Tanggal Selesai</label>
                    <input type="date" class="form-control" id="travelEndDate">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="travelStatus">Status</label>
                    <select class="form-control" id="travelStatus">
                        <option value="rencana">Rencana</option>
                        <option value="berlangsung">Berlangsung</option>
                        <option value="selesai">Selesai</option>
                        <option value="dibatalkan">Dibatalkan</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="travelNotes">Catatan</label>
                    <textarea class="form-control" id="travelNotes" rows="3" placeholder="Tambahkan catatan tentang perjalanan ini"></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Google Maps Link</label>
                    <div class="maps-link-container">
                        <p style="margin-bottom: 10px; font-size: 0.9rem;">Tempel link Google Maps untuk lokasi tujuan:</p>
                        <div class="maps-link-input">
                            <input type="text" class="form-control" id="travelMapsLink" placeholder="https://maps.google.com/?q=Lokasi+Tujuan">
                            <button class="btn btn-primary" id="testMapsLink">Test</button>
                        </div>
                        <small style="display: block; margin-top: 5px; color: var(--gray-color);">
                            <i class="fas fa-info-circle"></i> Link akan dapat diklik langsung di tabel perjalanan
                        </small>
                        
                        <div id="mapsPreview" class="maps-preview" style="display: none;">
                            <a href="#" id="previewMapsLink" target="_blank">
                                <i class="fas fa-map-marker-alt"></i>
                                <span id="previewMapsText">Buka di Google Maps</span>
                            </a>
                            <button class="btn btn-sm btn-danger" id="removeMapsLink">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" id="saveTravelBtn">Simpan Rencana</button>
                    <button class="btn" id="cancelTravelBtn">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Change Password -->
    <div class="modal" id="passwordModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Ubah Password</h3>
                <button class="close-modal" id="closePasswordModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label" for="currentPassword">Password Saat Ini</label>
                    <input type="password" class="form-control" id="currentPassword" placeholder="Masukkan password saat ini">
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="newPassword">Password Baru</label>
                    <input type="password" class="form-control" id="newPassword" placeholder="Masukkan password baru">
                    <div class="password-strength">
                        <div class="password-strength-bar" id="newPasswordStrengthBar"></div>
                    </div>
                    <small id="newPasswordStrengthText" style="display: block; margin-top: 5px;"></small>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="confirmNewPassword">Konfirmasi Password Baru</label>
                    <input type="password" class="form-control" id="confirmNewPassword" placeholder="Ulangi password baru">
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" id="savePasswordBtn">Simpan Password</button>
                    <button class="btn" id="cancelPasswordBtn">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for OTP Verification -->
    <div class="modal" id="otpModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Verifikasi OTP</h3>
                <button class="close-modal" id="closeOtpModal">&times;</button>
            </div>
            <div class="modal-body">
                <p>Kami telah mengirim kode OTP 6 digit ke email/telepon Anda. Masukkan kode di bawah ini:</p>
                
                <div class="otp-container">
                    <input type="text" class="otp-input" maxlength="1" id="otp1">
                    <input type="text" class="otp-input" maxlength="1" id="otp2">
                    <input type="text" class="otp-input" maxlength="1" id="otp3">
                    <input type="text" class="otp-input" maxlength="1" id="otp4">
                    <input type="text" class="otp-input" maxlength="1" id="otp5">
                    <input type="text" class="otp-input" maxlength="1" id="otp6">
                </div>
                
                <div class="text-center" style="margin: 20px 0;">
                    <p id="otpTimer">Kode berlaku selama: <span id="otpCountdown">05:00</span></p>
                    <button class="btn btn-link" id="resendOtpBtn">Kirim ulang kode</button>
                </div>
                
                <div class="form-group">
                    <button class="btn btn-primary" id="verifyOtpBtn">Verifikasi</button>
                    <button class="btn" id="cancelOtpBtn">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Delete Confirmation -->
    <div class="modal" id="deleteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Konfirmasi Penghapusan</h3>
                <button class="close-modal" id="closeDeleteModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="alert alert-danger">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span id="deleteMessage">Apakah Anda yakin ingin menghapus item ini? Tindakan ini tidak dapat dibatalkan.</span>
                </div>
                
                <div class="form-group text-right">
                    <button class="btn btn-danger" id="confirmDeleteBtn">Ya, Hapus</button>
                    <button class="btn" id="cancelDeleteBtn">Batal</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // State management
        let currentUser = null;
        let isDarkMode = false;
        let notes = [];
        let transactions = [];
        let travels = [];
        let currentNoteId = null;
        let currentTransactionId = null;
        let currentTravelId = null;
        let itemToDelete = null;
        let deleteType = null;
        let otpCode = null;
        let otpTimer = null;
        let otpTimeLeft = 300; // 5 minutes in seconds

        // DOM Elements
        const landingPage = document.getElementById('landingPage');
        const loginPage = document.getElementById('loginPage');
        const registerPage = document.getElementById('registerPage');
        const appContainer = document.getElementById('appContainer');

        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user is already logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showApp();
                loadUserData();
            } else {
                showLandingPage();
            }

            // Load theme preference
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                enableDarkMode();
            }

            // Initialize event listeners
            initEventListeners();
            initData();
            updateDashboard();
        });

        // Show different pages
        function showLandingPage() {
            landingPage.style.display = 'block';
            loginPage.style.display = 'none';
            registerPage.style.display = 'none';
            appContainer.style.display = 'none';
        }

        function showLoginPage() {
            landingPage.style.display = 'none';
            loginPage.style.display = 'block';
            registerPage.style.display = 'none';
            appContainer.style.display = 'none';
        }

        function showRegisterPage() {
            landingPage.style.display = 'none';
            loginPage.style.display = 'none';
            registerPage.style.display = 'block';
            appContainer.style.display = 'none';
        }

        function showApp() {
            landingPage.style.display = 'none';
            loginPage.style.display = 'none';
            registerPage.style.display = 'none';
            appContainer.style.display = 'block';
        }

        // Initialize event listeners
        function initEventListeners() {
            // Landing page events
            document.getElementById('landingLoginBtn').addEventListener('click', function(e) {
                e.preventDefault();
                showLoginPage();
            });
            
            document.getElementById('heroLoginBtn').addEventListener('click', function() {
                showLoginPage();
            });
            
            document.getElementById('heroRegisterBtn').addEventListener('click', function() {
                showRegisterPage();
            });
            
            document.getElementById('backToLandingFromLogin').addEventListener('click', function(e) {
                e.preventDefault();
                showLandingPage();
            });
            
            document.getElementById('backToLandingFromRegister').addEventListener('click', function(e) {
                e.preventDefault();
                showLandingPage();
            });
            
            document.getElementById('goToRegister').addEventListener('click', function(e) {
                e.preventDefault();
                showRegisterPage();
            });
            
            document.getElementById('goToLogin').addEventListener('click', function(e) {
                e.preventDefault();
                showLoginPage();
            });

            // Login events
            document.getElementById('loginBtn').addEventListener('click', login);
            
            // Register events
            document.getElementById('registerBtn').addEventListener('click', register);
            document.getElementById('registerPassword').addEventListener('input', checkPasswordStrength);
            
            // Theme toggle
            document.getElementById('themeToggle').addEventListener('click', toggleTheme);
            document.getElementById('lightThemeBtn').addEventListener('click', function() {
                disableDarkMode();
            });
            document.getElementById('darkThemeBtn').addEventListener('click', function() {
                enableDarkMode();
            });
            
            // Navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    showPage(page);
                    
                    // Update active link
                    document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // Logout
            document.getElementById('logoutBtn').addEventListener('click', logout);
            
            // Notes
            document.getElementById('addNoteBtn').addEventListener('click', function() {
                openNoteModal();
            });
            
            document.getElementById('saveNoteBtn').addEventListener('click', saveNote);
            document.getElementById('cancelNoteBtn').addEventListener('click', closeNoteModal);
            document.getElementById('closeNoteModal').addEventListener('click', closeNoteModal);
            
            // Transactions
            document.getElementById('addIncomeBtn').addEventListener('click', function() {
                openTransactionModal('income');
            });
            
            document.getElementById('addExpenseBtn').addEventListener('click', function() {
                openTransactionModal('expense');
            });
            
            document.getElementById('saveTransactionBtn').addEventListener('click', saveTransaction);
            document.getElementById('cancelTransactionBtn').addEventListener('click', closeTransactionModal);
            document.getElementById('closeTransactionModal').addEventListener('click', closeTransactionModal);
            
            // Travel
            document.getElementById('addTravelBtn').addEventListener('click', function() {
                openTravelModal();
            });
            
            document.getElementById('saveTravelBtn').addEventListener('click', saveTravel);
            document.getElementById('cancelTravelBtn').addEventListener('click', closeTravelModal);
            document.getElementById('closeTravelModal').addEventListener('click', closeTravelModal);
            
            // Travel detail modal
            document.getElementById('closeTravelDetailModal').addEventListener('click', function() {
                document.getElementById('travelDetailModal').classList.remove('active');
            });
            
            // Google Maps link testing
            document.getElementById('testMapsLink').addEventListener('click', testMapsLink);
            document.getElementById('removeMapsLink').addEventListener('click', removeMapsLink);
            
            // Profile
            document.getElementById('avatarUpload').addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const file = e.target.files[0];
                    if (file.size > 5 * 1024 * 1024) {
                        showToast('File terlalu besar. Maksimal 5MB.', 'danger');
                        return;
                    }
                    
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        document.getElementById('profileAvatar').src = event.target.result;
                        document.getElementById('userAvatar').src = event.target.result;
                        showToast('Foto profil berhasil diubah', 'success');
                    };
                    reader.readAsDataURL(file);
                }
            });
            
            document.getElementById('changeAvatarBtn').addEventListener('click', function() {
                document.getElementById('avatarUpload').click();
            });
            
            document.getElementById('saveProfileBtn').addEventListener('click', saveProfile);
            
            // Settings
            document.getElementById('changePasswordBtn').addEventListener('click', function() {
                openPasswordModal();
            });
            
            document.getElementById('savePasswordBtn').addEventListener('click', changePassword);
            document.getElementById('cancelPasswordBtn').addEventListener('click', closePasswordModal);
            document.getElementById('closePasswordModal').addEventListener('click', closePasswordModal);
            
            document.getElementById('exportDataBtn').addEventListener('click', exportData);
            
            document.getElementById('deleteAccountBtn').addEventListener('click', function() {
                openDeleteModal('account', null, 'Apakah Anda yakin ingin menghapus akun Anda? Semua data akan hilang dan tidak dapat dikembalikan.');
            });
            
            // OTP
            document.getElementById('verifyOtpBtn').addEventListener('click', verifyOtp);
            document.getElementById('cancelOtpBtn').addEventListener('click', closeOtpModal);
            document.getElementById('closeOtpModal').addEventListener('click', closeOtpModal);
            document.getElementById('resendOtpBtn').addEventListener('click', resendOtp);
            
            // Delete modal
            document.getElementById('confirmDeleteBtn').addEventListener('click', confirmDelete);
            document.getElementById('cancelDeleteBtn').addEventListener('click', closeDeleteModal);
            document.getElementById('closeDeleteModal').addEventListener('click', closeDeleteModal);
            
            // OTP input auto focus
            const otpInputs = document.querySelectorAll('.otp-input');
            otpInputs.forEach((input, index) => {
                input.addEventListener('input', function() {
                    if (this.value.length === 1 && index < otpInputs.length - 1) {
                        otpInputs[index + 1].focus();
                    }
                });
                
                input.addEventListener('keydown', function(e) {
                    if (e.key === 'Backspace' && this.value.length === 0 && index > 0) {
                        otpInputs[index - 1].focus();
                    }
                });
            });
        }

        // Initialize data
        function initData() {
            // Load notes from localStorage
            const savedNotes = localStorage.getItem('notes_' + (currentUser ? currentUser.id : 'default'));
            if (savedNotes) {
                notes = JSON.parse(savedNotes);
            }
            
            // Load transactions from localStorage
            const savedTransactions = localStorage.getItem('transactions_' + (currentUser ? currentUser.id : 'default'));
            if (savedTransactions) {
                transactions = JSON.parse(savedTransactions);
            }
            
            // Load travels from localStorage
            const savedTravels = localStorage.getItem('travels_' + (currentUser ? currentUser.id : 'default'));
            if (savedTravels) {
                travels = JSON.parse(savedTravels);
            }
            
            // Update UI with loaded data
            updateNotesTable();
            updateTransactionsTable();
            updateTravelTable();
        }

        // Show page based on navigation
        function showPage(page) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(page + 'Page').classList.add('active');
            
            // Update page title
            const pageTitles = {
                'dashboard': 'Dashboard',
                'notes': 'Catatan Harian',
                'savings': 'Tabungan & Keuangan',
                'travel': 'Rencana Perjalanan',
                'profile': 'Profil',
                'settings': 'Pengaturan'
            };
            
            document.title = `MulionoDATA - ${pageTitles[page]}`;
            
            // Update dashboard if needed
            if (page === 'dashboard') {
                updateDashboard();
            }
        }

        // Login function
        function login() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                showToast('Harap isi email dan password', 'danger');
                return;
            }
            
            // In a real app, this would be a server call
            // For demo purposes, we'll check against localStorage
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                showApp();
                loadUserData();
                showToast('Login berhasil!', 'success');
            } else {
                showToast('Email atau password salah', 'danger');
            }
        }

        // Register function
        function register() {
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('registerConfirmPassword').value;
            
            if (!name || !email || !password || !confirmPassword) {
                showToast('Harap isi semua field', 'danger');
                return;
            }
            
            if (password !== confirmPassword) {
                showToast('Password tidak cocok', 'danger');
                return;
            }
            
            if (password.length < 6) {
                showToast('Password minimal 6 karakter', 'danger');
                return;
            }
            
            // Check if user already exists
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userExists = users.some(u => u.email === email);
            
            if (userExists) {
                showToast('Email sudah terdaftar', 'danger');
                return;
            }
            
            // Create new user
            const newUser = {
                id: Date.now(),
                name: name,
                email: email,
                password: password,
                phone: '',
                dob: '',
                address: '',
                avatar: `https://ui-avatars.com/api/?name=${encodeURIComponent(name)}&background=4361ee&color=fff`,
                createdAt: new Date().toISOString(),
                lastPasswordChange: new Date().toISOString(),
                lastUsernameChange: new Date().toISOString()
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            showApp();
            loadUserData();
            showToast('Registrasi berhasil!', 'success');
        }

        // Load user data
        function loadUserData() {
            if (!currentUser) return;
            
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('profileName').textContent = currentUser.name;
            document.getElementById('profileEmail').textContent = currentUser.email;
            
            document.getElementById('userAvatar').src = currentUser.avatar;
            document.getElementById('profileAvatar').src = currentUser.avatar;
            
            document.getElementById('profileNameInput').value = currentUser.name;
            document.getElementById('profileEmailInput').value = currentUser.email;
            document.getElementById('profilePhoneInput').value = currentUser.phone || '';
            document.getElementById('profileDobInput').value = currentUser.dob || '';
            document.getElementById('profileAddressInput').value = currentUser.address || '';
        }

        // Logout function
        function logout() {
            if (confirm('Apakah Anda yakin ingin keluar?')) {
                currentUser = null;
                localStorage.removeItem('currentUser');
                showLandingPage();
                showToast('Anda telah keluar', 'success');
            }
        }

        // Update dashboard
        function updateDashboard() {
            if (!currentUser) return;
            
            // Update notes count
            document.getElementById('totalNotes').textContent = notes.length;
            
            // Calculate total balance
            let totalIncome = 0;
            let totalExpense = 0;
            
            transactions.forEach(transaction => {
                if (transaction.type === 'income') {
                    totalIncome += transaction.amount;
                } else {
                    totalExpense += transaction.amount;
                }
            });
            
            const totalBalance = totalIncome - totalExpense;
            
            document.getElementById('totalBalance').textContent = formatCurrency(totalBalance);
            document.getElementById('totalIncome').textContent = formatCurrency(totalIncome);
            document.getElementById('totalExpense').textContent = formatCurrency(totalExpense);
            document.getElementById('currentBalance').textContent = formatCurrency(totalBalance);
            
            // Update travel count
            document.getElementById('totalTrips').textContent = travels.length;
            
            // Calculate days active
            const createdAt = new Date(currentUser.createdAt);
            const now = new Date();
            const diffTime = Math.abs(now - createdAt);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById('daysActive').textContent = diffDays;
            
            // Update recent activity
            updateRecentActivity();
            
            // Update upcoming travel
            updateUpcomingTravel();
        }

        // Update recent activity
        function updateRecentActivity() {
            const activityList = document.getElementById('recentActivity');
            activityList.innerHTML = '';
            
            // Get all activities from different sources
            let allActivities = [];
            
            // Add notes activities
            notes.slice(-3).forEach(note => {
                allActivities.push({
                    type: 'notes',
                    title: `Catatan: ${note.title}`,
                    description: `Kategori: ${note.category}`,
                    date: note.date,
                    icon: 'sticky-note'
                });
            });
            
            // Add transaction activities
            transactions.slice(-3).forEach(transaction => {
                allActivities.push({
                    type: 'savings',
                    title: `${transaction.type === 'income' ? 'Pemasukan' : 'Pengeluaran'}: ${transaction.description}`,
                    description: `Jumlah: ${formatCurrency(transaction.amount)}`,
                    date: transaction.date,
                    icon: transaction.type === 'income' ? 'money-bill-wave' : 'shopping-cart'
                });
            });
            
            // Add travel activities
            travels.slice(-3).forEach(travel => {
                allActivities.push({
                    type: 'travel',
                    title: `Perjalanan ke: ${travel.destination}`,
                    description: `Status: ${travel.status}`,
                    date: travel.startDate,
                    icon: 'plane'
                });
            });
            
            // Sort by date (newest first)
            allActivities.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Take only 5 most recent activities
            allActivities = allActivities.slice(0, 5);
            
            // If no activities, show default message
            if (allActivities.length === 0) {
                activityList.innerHTML = `
                    <li>
                        <div class="activity-icon notes">
                            <i class="fas fa-sticky-note"></i>
                        </div>
                        <div class="activity-content">
                            <h4>Selamat datang di MulionoDATA!</h4>
                            <p>Mulai kelola hidup Anda dengan lebih terorganisir</p>
                        </div>
                    </li>
                `;
                return;
            }
            
            // Add activities to list
            allActivities.forEach(activity => {
                const li = document.createElement('li');
                li.innerHTML = `
                    <div class="activity-icon ${activity.type}">
                        <i class="fas fa-${activity.icon}"></i>
                    </div>
                    <div class="activity-content">
                        <h4>${activity.title}</h4>
                        <p>${activity.description}  ${formatDate(activity.date)}</p>
                    </div>
                `;
                activityList.appendChild(li);
            });
        }

        // Update upcoming travel
        function updateUpcomingTravel() {
            const tableBody = document.getElementById('upcomingTravelTable');
            tableBody.innerHTML = '';
            
            // Filter upcoming travels (status 'rencana' and start date in the future)
            const now = new Date();
            const upcomingTravels = travels.filter(travel => {
                return travel.status === 'rencana' && new Date(travel.startDate) > now;
            });
            
            // Sort by start date (earliest first)
            upcomingTravels.sort((a, b) => new Date(a.startDate) - new Date(b.startDate));
            
            // Take only 3 upcoming travels
            const displayTravels = upcomingTravels.slice(0, 3);
            
            if (displayTravels.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="5" class="text-center">Belum ada rencana perjalanan</td>
                    </tr>
                `;
                return;
            }
            
            // Add travels to table
            displayTravels.forEach(travel => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${travel.destination}</td>
                    <td>${formatDate(travel.startDate)}</td>
                    <td><span class="badge badge-info">${travel.status}</span></td>
                    <td class="maps-cell">
                        ${travel.mapsLink ? 
                            `<a href="${travel.mapsLink}" target="_blank" class="maps-link-table">
                                <i class="fas fa-map-marker-alt"></i> Lihat di Maps
                            </a>` : 
                            '<span class="text-muted">-</span>'}
                    </td>
                    <td>
                        <button class="btn btn-sm btn-primary view-travel" data-id="${travel.id}">Lihat</button>
                    </td>
                `;
                tableBody.appendChild(tr);
            });
            
            // Add event listeners to view buttons
            document.querySelectorAll('.view-travel').forEach(button => {
                button.addEventListener('click', function() {
                    const travelId = parseInt(this.getAttribute('data-id'));
                    showTravelDetail(travelId);
                });
            });
        }

        // Show travel detail
        function showTravelDetail(travelId) {
            const travel = travels.find(t => t.id === travelId);
            if (!travel) return;
            
            document.getElementById('travelDetailTitle').textContent = `Detail Perjalanan: ${travel.destination}`;
            document.getElementById('detailDestination').textContent = travel.destination;
            document.getElementById('detailStartDate').textContent = formatDate(travel.startDate);
            document.getElementById('detailEndDate').textContent = formatDate(travel.endDate);
            
            const statusBadge = document.getElementById('detailStatus');
            statusBadge.textContent = travel.status;
            statusBadge.className = `badge badge-${getStatusBadgeClass(travel.status)}`;
            
            document.getElementById('detailNotes').textContent = travel.notes || '-';
            
            const mapsLinkContainer = document.getElementById('detailMapsLink');
            if (travel.mapsLink) {
                mapsLinkContainer.innerHTML = `
                    <strong>Lokasi di Google Maps:</strong><br>
                    <a href="${travel.mapsLink}" target="_blank" class="travel-maps-link">
                        <i class="fas fa-map-marked-alt"></i> Buka di Google Maps
                    </a>
                `;
            } else {
                mapsLinkContainer.innerHTML = '<strong>Lokasi di Google Maps:</strong><br><span class="text-muted">Tidak ada link Maps</span>';
            }
            
            document.getElementById('travelDetailModal').classList.add('active');
        }

        // Notes functions
        function openNoteModal(noteId = null) {
            const modal = document.getElementById('noteModal');
            const modalTitle = document.getElementById('noteModalTitle');
            
            if (noteId) {
                // Edit existing note
                const note = notes.find(n => n.id === noteId);
                if (!note) return;
                
                modalTitle.textContent = 'Edit Catatan';
                document.getElementById('noteTitle').value = note.title;
                document.getElementById('noteCategory').value = note.category;
                document.getElementById('noteStatus').value = note.status;
                document.getElementById('noteContent').value = note.content;
                currentNoteId = noteId;
            } else {
                // Add new note
                modalTitle.textContent = 'Tambah Catatan Baru';
                document.getElementById('noteTitle').value = '';
                document.getElementById('noteCategory').value = 'pribadi';
                document.getElementById('noteStatus').value = 'draft';
                document.getElementById('noteContent').value = '';
                currentNoteId = null;
            }
            
            modal.classList.add('active');
        }

        function closeNoteModal() {
            document.getElementById('noteModal').classList.remove('active');
        }

        function saveNote() {
            const title = document.getElementById('noteTitle').value;
            const category = document.getElementById('noteCategory').value;
            const status = document.getElementById('noteStatus').value;
            const content = document.getElementById('noteContent').value;
            
            if (!title || !content) {
                showToast('Judul dan isi catatan harus diisi', 'danger');
                return;
            }
            
            if (currentNoteId) {
                // Update existing note
                const noteIndex = notes.findIndex(n => n.id === currentNoteId);
                if (noteIndex !== -1) {
                    notes[noteIndex].title = title;
                    notes[noteIndex].category = category;
                    notes[noteIndex].status = status;
                    notes[noteIndex].content = content;
                    notes[noteIndex].updatedAt = new Date().toISOString();
                }
            } else {
                // Add new note
                const newNote = {
                    id: Date.now(),
                    userId: currentUser.id,
                    title: title,
                    category: category,
                    status: status,
                    content: content,
                    date: new Date().toISOString(),
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                notes.push(newNote);
            }
            
            // Save to localStorage
            localStorage.setItem('notes_' + currentUser.id, JSON.stringify(notes));
            
            // Update UI
            updateNotesTable();
            updateDashboard();
            
            // Close modal and show success message
            closeNoteModal();
            showToast(currentNoteId ? 'Catatan berhasil diperbarui' : 'Catatan berhasil ditambahkan', 'success');
        }

        function updateNotesTable() {
            const tableBody = document.getElementById('notesTable');
            tableBody.innerHTML = '';
            
            if (notes.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="5" class="text-center">Belum ada catatan</td>
                    </tr>
                `;
                return;
            }
            
            // Sort by date (newest first)
            const sortedNotes = [...notes].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedNotes.forEach(note => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${note.title}</td>
                    <td><span class="badge badge-info">${note.category}</span></td>
                    <td><span class="badge badge-${getStatusBadgeClass(note.status)}">${note.status}</span></td>
                    <td>${formatDate(note.date)}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-primary edit-note" data-id="${note.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger delete-note" data-id="${note.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(tr);
            });
            
            // Add event listeners
            document.querySelectorAll('.edit-note').forEach(button => {
                button.addEventListener('click', function() {
                    const noteId = parseInt(this.getAttribute('data-id'));
                    openNoteModal(noteId);
                });
            });
            
            document.querySelectorAll('.delete-note').forEach(button => {
                button.addEventListener('click', function() {
                    const noteId = parseInt(this.getAttribute('data-id'));
                    const note = notes.find(n => n.id === noteId);
                    openDeleteModal('note', noteId, `Apakah Anda yakin ingin menghapus catatan "${note.title}"?`);
                });
            });
        }

        // Transactions functions
        function openTransactionModal(type = 'income', transactionId = null) {
            const modal = document.getElementById('transactionModal');
            const modalTitle = document.getElementById('transactionModalTitle');
            
            if (transactionId) {
                // Edit existing transaction
                const transaction = transactions.find(t => t.id === transactionId);
                if (!transaction) return;
                
                modalTitle.textContent = 'Edit Transaksi';
                document.getElementById('transactionType').value = transaction.type;
                document.getElementById('transactionDescription').value = transaction.description;
                document.getElementById('transactionCategory').value = transaction.category;
                document.getElementById('transactionAmount').value = transaction.amount;
                document.getElementById('transactionDate').value = transaction.date.split('T')[0];
                currentTransactionId = transactionId;
            } else {
                // Add new transaction
                modalTitle.textContent = type === 'income' ? 'Tambah Pemasukan' : 'Tambah Pengeluaran';
                document.getElementById('transactionType').value = type;
                document.getElementById('transactionDescription').value = '';
                document.getElementById('transactionCategory').value = type === 'income' ? 'gaji' : 'makanan';
                document.getElementById('transactionAmount').value = '';
                document.getElementById('transactionDate').value = new Date().toISOString().split('T')[0];
                currentTransactionId = null;
            }
            
            modal.classList.add('active');
        }

        function closeTransactionModal() {
            document.getElementById('transactionModal').classList.remove('active');
        }

        function saveTransaction() {
            const type = document.getElementById('transactionType').value;
            const description = document.getElementById('transactionDescription').value;
            const category = document.getElementById('transactionCategory').value;
            const amount = parseFloat(document.getElementById('transactionAmount').value);
            const date = document.getElementById('transactionDate').value;
            
            if (!description || !amount || !date) {
                showToast('Harap isi semua field', 'danger');
                return;
            }
            
            if (amount <= 0) {
                showToast('Jumlah harus lebih dari 0', 'danger');
                return;
            }
            
            if (currentTransactionId) {
                // Update existing transaction
                const transactionIndex = transactions.findIndex(t => t.id === currentTransactionId);
                if (transactionIndex !== -1) {
                    transactions[transactionIndex].type = type;
                    transactions[transactionIndex].description = description;
                    transactions[transactionIndex].category = category;
                    transactions[transactionIndex].amount = amount;
                    transactions[transactionIndex].date = date;
                    transactions[transactionIndex].updatedAt = new Date().toISOString();
                }
            } else {
                // Add new transaction
                const newTransaction = {
                    id: Date.now(),
                    userId: currentUser.id,
                    type: type,
                    description: description,
                    category: category,
                    amount: amount,
                    date: date,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                transactions.push(newTransaction);
            }
            
            // Save to localStorage
            localStorage.setItem('transactions_' + currentUser.id, JSON.stringify(transactions));
            
            // Update UI
            updateTransactionsTable();
            updateDashboard();
            
            // Close modal and show success message
            closeTransactionModal();
            showToast(currentTransactionId ? 'Transaksi berhasil diperbarui' : 'Transaksi berhasil ditambahkan', 'success');
        }

        function updateTransactionsTable() {
            const tableBody = document.getElementById('transactionsTable');
            tableBody.innerHTML = '';
            
            if (transactions.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="text-center">Belum ada transaksi</td>
                    </tr>
                `;
                return;
            }
            
            // Sort by date (newest first)
            const sortedTransactions = [...transactions].sort((a, b) => new Date(b.date) - new Date(a.date));
            
            sortedTransactions.forEach(transaction => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${transaction.description}</td>
                    <td><span class="badge badge-info">${transaction.category}</span></td>
                    <td class="${transaction.type === 'income' ? 'text-success' : 'text-danger'}">
                        ${transaction.type === 'income' ? '+' : '-'} ${formatCurrency(transaction.amount)}
                    </td>
                    <td>${formatDate(transaction.date)}</td>
                    <td><span class="badge badge-${transaction.type === 'income' ? 'success' : 'danger'}">${transaction.type === 'income' ? 'Pemasukan' : 'Pengeluaran'}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-primary edit-transaction" data-id="${transaction.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-danger delete-transaction" data-id="${transaction.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(tr);
            });
            
            // Add event listeners
            document.querySelectorAll('.edit-transaction').forEach(button => {
                button.addEventListener('click', function() {
                    const transactionId = parseInt(this.getAttribute('data-id'));
                    openTransactionModal(null, transactionId);
                });
            });
            
            document.querySelectorAll('.delete-transaction').forEach(button => {
                button.addEventListener('click', function() {
                    const transactionId = parseInt(this.getAttribute('data-id'));
                    const transaction = transactions.find(t => t.id === transactionId);
                    openDeleteModal('transaction', transactionId, `Apakah Anda yakin ingin menghapus transaksi "${transaction.description}"?`);
                });
            });
        }

        // Travel functions
        function openTravelModal(travelId = null) {
            const modal = document.getElementById('travelModal');
            const modalTitle = document.getElementById('travelModalTitle');
            const mapsPreview = document.getElementById('mapsPreview');
            
            if (travelId) {
                // Edit existing travel
                const travel = travels.find(t => t.id === travelId);
                if (!travel) return;
                
                modalTitle.textContent = 'Edit Rencana Perjalanan';
                document.getElementById('travelDestination').value = travel.destination;
                document.getElementById('travelStartDate').value = travel.startDate.split('T')[0];
                document.getElementById('travelEndDate').value = travel.endDate.split('T')[0];
                document.getElementById('travelStatus').value = travel.status;
                document.getElementById('travelNotes').value = travel.notes || '';
                document.getElementById('travelMapsLink').value = travel.mapsLink || '';
                currentTravelId = travelId;
                
                // Show maps preview if link exists
                if (travel.mapsLink) {
                    document.getElementById('previewMapsLink').href = travel.mapsLink;
                    document.getElementById('previewMapsText').textContent = 'Buka di Google Maps';
                    mapsPreview.style.display = 'flex';
                } else {
                    mapsPreview.style.display = 'none';
                }
            } else {
                // Add new travel
                modalTitle.textContent = 'Tambah Rencana Perjalanan';
                document.getElementById('travelDestination').value = '';
                document.getElementById('travelStartDate').value = '';
                document.getElementById('travelEndDate').value = '';
                document.getElementById('travelStatus').value = 'rencana';
                document.getElementById('travelNotes').value = '';
                document.getElementById('travelMapsLink').value = '';
                currentTravelId = null;
                mapsPreview.style.display = 'none';
            }
            
            modal.classList.add('active');
        }

        function closeTravelModal() {
            document.getElementById('travelModal').classList.remove('active');
        }

        // Test Google Maps link
        function testMapsLink() {
            const mapsLink = document.getElementById('travelMapsLink').value.trim();
            const mapsPreview = document.getElementById('mapsPreview');
            const previewLink = document.getElementById('previewMapsLink');
            const previewText = document.getElementById('previewMapsText');
            
            if (!mapsLink) {
                showToast('Masukkan link Google Maps terlebih dahulu', 'warning');
                return;
            }
            
            // Validate URL
            try {
                new URL(mapsLink);
            } catch (e) {
                showToast('Link tidak valid. Pastikan URL dimulai dengan https://', 'danger');
                return;
            }
            
            // Set preview
            previewLink.href = mapsLink;
            previewText.textContent = 'Test Buka di Google Maps';
            mapsPreview.style.display = 'flex';
            
            // Open in new tab for testing
            window.open(mapsLink, '_blank');
            
            showToast('Link Google Maps berhasil diuji', 'success');
        }

        function removeMapsLink() {
            document.getElementById('travelMapsLink').value = '';
            document.getElementById('mapsPreview').style.display = 'none';
        }

        function saveTravel() {
            const destination = document.getElementById('travelDestination').value;
            const startDate = document.getElementById('travelStartDate').value;
            const endDate = document.getElementById('travelEndDate').value;
            const status = document.getElementById('travelStatus').value;
            const notes = document.getElementById('travelNotes').value;
            const mapsLink = document.getElementById('travelMapsLink').value.trim();
            
            if (!destination || !startDate || !endDate) {
                showToast('Harap isi semua field yang diperlukan', 'danger');
                return;
            }
            
            if (new Date(startDate) > new Date(endDate)) {
                showToast('Tanggal mulai tidak boleh setelah tanggal selesai', 'danger');
                return;
            }
            
            // Validate maps link if provided
            if (mapsLink) {
                try {
                    new URL(mapsLink);
                } catch (e) {
                    showToast('Link Google Maps tidak valid. Pastikan URL dimulai dengan https://', 'danger');
                    return;
                }
            }
            
            if (currentTravelId) {
                // Update existing travel
                const travelIndex = travels.findIndex(t => t.id === currentTravelId);
                if (travelIndex !== -1) {
                    travels[travelIndex].destination = destination;
                    travels[travelIndex].startDate = startDate;
                    travels[travelIndex].endDate = endDate;
                    travels[travelIndex].status = status;
                    travels[travelIndex].notes = notes;
                    travels[travelIndex].mapsLink = mapsLink;
                    travels[travelIndex].updatedAt = new Date().toISOString();
                }
            } else {
                // Add new travel
                const newTravel = {
                    id: Date.now(),
                    userId: currentUser.id,
                    destination: destination,
                    startDate: startDate,
                    endDate: endDate,
                    status: status,
                    notes: notes,
                    mapsLink: mapsLink,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString()
                };
                travels.push(newTravel);
            }
            
            // Save to localStorage
            localStorage.setItem('travels_' + currentUser.id, JSON.stringify(travels));
            
            // Update UI
            updateTravelTable();
            updateDashboard();
            
            // Close modal and show success message
            closeTravelModal();
            showToast(currentTravelId ? 'Rencana perjalanan berhasil diperbarui' : 'Rencana perjalanan berhasil ditambahkan', 'success');
        }

        function updateTravelTable() {
            const tableBody = document.getElementById('travelTable');
            tableBody.innerHTML = '';
            
            if (travels.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="6" class="text-center">Belum ada rencana perjalanan</td>
                    </tr>
                `;
                return;
            }
            
            // Sort by start date (earliest first)
            const sortedTravels = [...travels].sort((a, b) => new Date(a.startDate) - new Date(b.startDate));
            
            sortedTravels.forEach(travel => {
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${travel.destination}</td>
                    <td>${formatDate(travel.startDate)}</td>
                    <td>${formatDate(travel.endDate)}</td>
                    <td><span class="badge badge-${getStatusBadgeClass(travel.status)}">${travel.status}</span></td>
                    <td class="maps-cell">
                        ${travel.mapsLink ? 
                            `<a href="${travel.mapsLink}" target="_blank" class="maps-link-table">
                                <i class="fas fa-map-marker-alt"></i> Buka di Maps
                            </a>` : 
                            '<span class="text-muted">-</span>'}
                    </td>
                    <td>
                        <div class="action-buttons">
                            <button class="btn btn-sm btn-primary edit-travel" data-id="${travel.id}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="btn btn-sm btn-info view-travel-detail" data-id="${travel.id}">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-danger delete-travel" data-id="${travel.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                tableBody.appendChild(tr);
            });
            
            // Add event listeners
            document.querySelectorAll('.edit-travel').forEach(button => {
                button.addEventListener('click', function() {
                    const travelId = parseInt(this.getAttribute('data-id'));
                    openTravelModal(travelId);
                });
            });
            
            document.querySelectorAll('.view-travel-detail').forEach(button => {
                button.addEventListener('click', function() {
                    const travelId = parseInt(this.getAttribute('data-id'));
                    showTravelDetail(travelId);
                });
            });
            
            document.querySelectorAll('.delete-travel').forEach(button => {
                button.addEventListener('click', function() {
                    const travelId = parseInt(this.getAttribute('data-id'));
                    const travel = travels.find(t => t.id === travelId);
                    openDeleteModal('travel', travelId, `Apakah Anda yakin ingin menghapus rencana perjalanan ke "${travel.destination}"?`);
                });
            });
        }

        // Profile functions
        function saveProfile() {
            // Name cannot be changed (locked)
            const email = document.getElementById('profileEmailInput').value;
            const phone = document.getElementById('profilePhoneInput').value;
            const dob = document.getElementById('profileDobInput').value;
            const address = document.getElementById('profileAddressInput').value;
            
            if (!email) {
                showToast('Email harus diisi', 'danger');
                return;
            }
            
            // Check if email is being changed
            if (email !== currentUser.email) {
                // In a real app, you would send OTP for verification
                showOtpModal();
                return;
            }
            
            // Update user
            currentUser.email = email;
            currentUser.phone = phone;
            currentUser.dob = dob;
            currentUser.address = address;
            
            // Update in localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update users list
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));
            }
            
            // Update UI
            loadUserData();
            showToast('Profil berhasil diperbarui', 'success');
        }

        // OTP functions
        function showOtpModal() {
            // Generate random 6-digit OTP
            otpCode = Math.floor(100000 + Math.random() * 900000).toString();
            console.log('OTP Code (simulasi):', otpCode); // In real app, send via email/SMS
            
            // Start timer
            otpTimeLeft = 300;
            updateOtpTimer();
            otpTimer = setInterval(updateOtpTimer, 1000);
            
            // Clear OTP inputs
            document.querySelectorAll('.otp-input').forEach(input => {
                input.value = '';
            });
            
            // Focus first OTP input
            document.getElementById('otp1').focus();
            
            // Show modal
            document.getElementById('otpModal').classList.add('active');
        }

        function updateOtpTimer() {
            const minutes = Math.floor(otpTimeLeft / 60);
            const seconds = otpTimeLeft % 60;
            
            document.getElementById('otpCountdown').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (otpTimeLeft <= 0) {
                clearInterval(otpTimer);
                document.getElementById('otpTimer').innerHTML = 'Kode OTP telah kadaluarsa';
                document.getElementById('verifyOtpBtn').disabled = true;
            }
            
            otpTimeLeft--;
        }

        function verifyOtp() {
            const enteredOtp = 
                document.getElementById('otp1').value +
                document.getElementById('otp2').value +
                document.getElementById('otp3').value +
                document.getElementById('otp4').value +
                document.getElementById('otp5').value +
                document.getElementById('otp6').value;
            
            if (enteredOtp.length !== 6) {
                showToast('Harap masukkan 6 digit kode OTP', 'danger');
                return;
            }
            
            if (enteredOtp === otpCode) {
                clearInterval(otpTimer);
                closeOtpModal();
                
                // Update email after OTP verification
                const email = document.getElementById('profileEmailInput').value;
                currentUser.email = email;
                
                // Update in localStorage
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                // Update users list
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex].email = email;
                    localStorage.setItem('users', JSON.stringify(users));
                }
                
                // Update UI
                loadUserData();
                showToast('Email berhasil diperbarui setelah verifikasi OTP', 'success');
            } else {
                showToast('Kode OTP salah', 'danger');
            }
        }

        function resendOtp() {
            // Generate new OTP
            otpCode = Math.floor(100000 + Math.random() * 900000).toString();
            console.log('New OTP Code (simulasi):', otpCode);
            
            // Reset timer
            clearInterval(otpTimer);
            otpTimeLeft = 300;
            updateOtpTimer();
            otpTimer = setInterval(updateOtpTimer, 1000);
            
            document.getElementById('verifyOtpBtn').disabled = false;
            
            showToast('Kode OTP baru telah dikirim', 'success');
        }

        function closeOtpModal() {
            clearInterval(otpTimer);
            document.getElementById('otpModal').classList.remove('active');
        }

        // Password functions
        function openPasswordModal() {
            document.getElementById('passwordModal').classList.add('active');
            document.getElementById('currentPassword').value = '';
            document.getElementById('newPassword').value = '';
            document.getElementById('confirmNewPassword').value = '';
        }

        function closePasswordModal() {
            document.getElementById('passwordModal').classList.remove('active');
        }

        function changePassword() {
            const currentPassword = document.getElementById('currentPassword').value;
            const newPassword = document.getElementById('newPassword').value;
            const confirmNewPassword = document.getElementById('confirmNewPassword').value;
            
            if (!currentPassword || !newPassword || !confirmNewPassword) {
                showToast('Harap isi semua field', 'danger');
                return;
            }
            
            if (currentPassword !== currentUser.password) {
                showToast('Password saat ini salah', 'danger');
                return;
            }
            
            if (newPassword.length < 6) {
                showToast('Password baru minimal 6 karakter', 'danger');
                return;
            }
            
            if (newPassword !== confirmNewPassword) {
                showToast('Password baru tidak cocok', 'danger');
                return;
            }
            
            // Update password
            currentUser.password = newPassword;
            currentUser.lastPasswordChange = new Date().toISOString();
            
            // Update in localStorage
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            
            // Update users list
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.id === currentUser.id);
            if (userIndex !== -1) {
                users[userIndex].password = newPassword;
                users[userIndex].lastPasswordChange = currentUser.lastPasswordChange;
                localStorage.setItem('users', JSON.stringify(users));
            }
            
            // Close modal and show success message
            closePasswordModal();
            showToast('Password berhasil diubah', 'success');
        }

        // Delete functions
        function openDeleteModal(type, id, message) {
            deleteType = type;
            itemToDelete = id;
            
            document.getElementById('deleteMessage').textContent = message;
            document.getElementById('deleteModal').classList.add('active');
        }

        function closeDeleteModal() {
            document.getElementById('deleteModal').classList.remove('active');
        }

        function confirmDelete() {
            if (deleteType === 'note') {
                // Delete note
                notes = notes.filter(note => note.id !== itemToDelete);
                localStorage.setItem('notes_' + currentUser.id, JSON.stringify(notes));
                updateNotesTable();
                showToast('Catatan berhasil dihapus', 'success');
            } else if (deleteType === 'transaction') {
                // Delete transaction
                transactions = transactions.filter(transaction => transaction.id !== itemToDelete);
                localStorage.setItem('transactions_' + currentUser.id, JSON.stringify(transactions));
                updateTransactionsTable();
                showToast('Transaksi berhasil dihapus', 'success');
            } else if (deleteType === 'travel') {
                // Delete travel
                travels = travels.filter(travel => travel.id !== itemToDelete);
                localStorage.setItem('travels_' + currentUser.id, JSON.stringify(travels));
                updateTravelTable();
                showToast('Rencana perjalanan berhasil dihapus', 'success');
            } else if (deleteType === 'account') {
                // Delete account
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const updatedUsers = users.filter(u => u.id !== currentUser.id);
                localStorage.setItem('users', JSON.stringify(updatedUsers));
                
                // Clear user data
                localStorage.removeItem('notes_' + currentUser.id);
                localStorage.removeItem('transactions_' + currentUser.id);
                localStorage.removeItem('travels_' + currentUser.id);
                localStorage.removeItem('currentUser');
                
                // Show landing page
                currentUser = null;
                showLandingPage();
                showToast('Akun berhasil dihapus', 'success');
                return;
            }
            
            updateDashboard();
            closeDeleteModal();
        }

        // Export data
        function exportData() {
            const userData = {
                user: currentUser,
                notes: notes,
                transactions: transactions,
                travels: travels,
                exportDate: new Date().toISOString()
            };
            
            const dataStr = JSON.stringify(userData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `personal-manager-data-${currentUser.id}-${new Date().toISOString().split('T')[0]}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showToast('Data berhasil diekspor', 'success');
        }

        // Theme functions
        function toggleTheme() {
            if (isDarkMode) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        }

        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            document.getElementById('themeToggle').innerHTML = '<i class="fas fa-sun"></i>';
            isDarkMode = true;
            localStorage.setItem('theme', 'dark');
        }

        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            document.getElementById('themeToggle').innerHTML = '<i class="fas fa-moon"></i>';
            isDarkMode = false;
            localStorage.setItem('theme', 'light');
        }

        // Password strength checker
        function checkPasswordStrength() {
            const password = document.getElementById('registerPassword').value;
            const strengthBar = document.getElementById('passwordStrengthBar');
            const strengthText = document.getElementById('passwordStrengthText');
            
            // Reset
            strengthBar.className = 'password-strength-bar';
            strengthText.textContent = '';
            
            if (!password) return;
            
            // Calculate strength
            let strength = 0;
            
            // Length
            if (password.length >= 8) strength++;
            if (password.length >= 12) strength++;
            
            // Contains lowercase, uppercase, numbers, special chars
            if (/[a-z]/.test(password)) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;
            
            // Update UI
            if (strength <= 2) {
                strengthBar.classList.add('strength-weak');
                strengthText.textContent = 'Lemah';
                strengthText.style.color = 'var(--danger-color)';
            } else if (strength <= 4) {
                strengthBar.classList.add('strength-medium');
                strengthText.textContent = 'Sedang';
                strengthText.style.color = 'var(--warning-color)';
            } else if (strength <= 5) {
                strengthBar.classList.add('strength-strong');
                strengthText.textContent = 'Kuat';
                strengthText.style.color = 'var(--success-color)';
            } else {
                strengthBar.classList.add('strength-very-strong');
                strengthText.textContent = 'Sangat Kuat';
                strengthText.style.color = '#2ecc71';
            }
        }

        // Helper functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(amount);
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('id-ID', {
                year: 'numeric',
                month: 'short',
                day: 'numeric'
            });
        }

        function getStatusBadgeClass(status) {
            const statusClasses = {
                'draft': 'secondary',
                'dalam_proses': 'warning',
                'selesai': 'success',
                'rencana': 'info',
                'berlangsung': 'primary',
                'dibatalkan': 'danger'
            };
            
            return statusClasses[status] || 'secondary';
        }

        function showToast(message, type = 'success') {
            const toastContainer = document.getElementById('toastContainer');
            
            const toast = document.createElement('div');
            toast.className = `toast toast-${type}`;
            toast.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'danger' ? 'exclamation-circle' : 'exclamation-triangle'}"></i>
                <span>${message}</span>
            `;
            
            toastContainer.appendChild(toast);
            
            // Show toast
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);
            
            // Remove toast after 5 seconds
            setTimeout(() => {
                toast.classList.remove('show');
                setTimeout(() => {
                    toastContainer.removeChild(toast);
                }, 300);
            }, 5000);
        }
    <script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
import {
  getAuth,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  onAuthStateChanged,
  signOut
} from "https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js";
import {
  getFirestore, doc, setDoc, getDoc
} from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

/* ===== GANTI DENGAN CONFIG FIREBASE KAMU ===== */
const firebaseConfig = {
  apiKey: "API_KEY",
  authDomain: "PROJECT.firebaseapp.com",
  projectId: "PROJECT_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

/* ===== REGISTER ===== */
registerBtn.addEventListener("click", async () => {
  const name = registerName.value;
  const email = registerEmail.value;
  const password = registerPassword.value;
  const confirmPassword = registerConfirmPassword.value;

  if(password !== confirmPassword){
    alert("Password dan konfirmasi password tidak sama!");
    return;
  }

  try {
    const cred = await createUserWithEmailAndPassword(auth, email, password);
    await setDoc(doc(db, "users", cred.user.uid), { name: name, email: email });
    alert("Daftar berhasil! Silakan login.");
    registerPage.style.display = "none";
    loginPage.style.display = "block";
  } catch(e){
    alert(e.message);
  }
});

/* ===== LOGIN ===== */
loginBtn.addEventListener("click", async () => {
  const email = loginEmail.value;
  const password = loginPassword.value;

  try {
    await signInWithEmailAndPassword(auth, email, password);
  } catch(e){
    alert(e.message);
  }
});

/* ===== CEK LOGIN OTOMATIS ===== */
onAuthStateChanged(auth, async user => {
  if(user){
    loginPage.style.display = "none";
    registerPage.style.display = "none";
    alert("Login berhasil! Email: " + user.email);
    // Di sini bisa redirect ke dashboard / halaman lain
  } else {
    loginPage.style.display = "block";
  }
});

/* ===== LOGOUT ===== */
function logout(){
  signOut(auth);
  alert("Logout berhasil");
}
</script>
</body>

</html>

